{"nbformat":4,"nbformat_minor":0,"metadata":{"colab":{"provenance":[{"file_id":"1US-hpz-GnhnasM22IjOLyEvt9Xov2p5u","timestamp":1661960512771}],"collapsed_sections":[]},"kernelspec":{"name":"python3","display_name":"Python 3"},"language_info":{"name":"python"},"widgets":{"application/vnd.jupyter.widget-state+json":{"8f544f61d00c48bfbf5b849bfd5dbf0a":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_623d052bec1c446c96d0709e8747c677","IPY_MODEL_13ff4f9ed40b4c7cb192763feab71b4d","IPY_MODEL_c6d935601d4942adb6fa41e11f59cbbd"],"layout":"IPY_MODEL_ac2b0374a49143168c45eb2fa673cb7a"}},"623d052bec1c446c96d0709e8747c677":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_c76f8198c20741808dfda1f16534784d","placeholder":"​","style":"IPY_MODEL_66707d2d7b1c45538b8980ccde78fd44","value":"  0%"}},"13ff4f9ed40b4c7cb192763feab71b4d":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"","description":"","description_tooltip":null,"layout":"IPY_MODEL_bf4c70e2b52d4521af9090efcf51c826","max":100000,"min":0,"orientation":"horizontal","style":"IPY_MODEL_7ecb5fdb774748c59b946da16de8966e","value":75}},"c6d935601d4942adb6fa41e11f59cbbd":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_dc12f2d455c4472e8a9f6b2a4f336e67","placeholder":"​","style":"IPY_MODEL_521513dc738f498f9cd2c36159ff58f9","value":" 75/100000 [00:14&lt;5:10:54,  5.36it/s]"}},"ac2b0374a49143168c45eb2fa673cb7a":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c76f8198c20741808dfda1f16534784d":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"66707d2d7b1c45538b8980ccde78fd44":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"bf4c70e2b52d4521af9090efcf51c826":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7ecb5fdb774748c59b946da16de8966e":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"dc12f2d455c4472e8a9f6b2a4f336e67":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"521513dc738f498f9cd2c36159ff58f9":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}}}}},"cells":[{"cell_type":"code","execution_count":1,"metadata":{"id":"Wu7Kj3HE0uQZ","executionInfo":{"status":"ok","timestamp":1665148628192,"user_tz":-540,"elapsed":971,"user":{"displayName":"Suhyeon Lee","userId":"03248773764587824406"}}},"outputs":[],"source":["import json \n","import requests \n","import pandas as pd\n","import numpy as np\n","import matplotlib.pyplot as plt\n","import matplotlib as mpl\n","import seaborn as sns\n","import pickle\n","import datetime as dt\n","from tqdm.notebook import tqdm\n","from IPython.display import Image "]},{"cell_type":"code","source":["pd.set_option('max_columns', 100) # To see 50 columns\n","pd.set_option('max_rows', 100) # To see 100 rows"],"metadata":{"id":"gD2EV5UI583f","executionInfo":{"status":"ok","timestamp":1665148628192,"user_tz":-540,"elapsed":4,"user":{"displayName":"Suhyeon Lee","userId":"03248773764587824406"}}},"execution_count":2,"outputs":[]},{"cell_type":"code","source":["api = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJYLUFwcC1SYXRlLUxpbWl0IjoiNTAwOjEwIiwiYWNjb3VudF9pZCI6IjE1MTAyMjA3NzUiLCJhdXRoX2lkIjoiMiIsImV4cCI6MTY3NzQwMTAwNCwiaWF0IjoxNjYxODQ5MDA0LCJuYmYiOjE2NjE4NDkwMDQsInNlcnZpY2VfaWQiOiI0MzAwMTE0ODEiLCJ0b2tlbl90eXBlIjoiQWNjZXNzVG9rZW4ifQ.ngxIAncZ_jyxdeoYK12MPUkl_7SU7U7mEAyysZ7IC_k'"],"metadata":{"id":"prVemuBO6Lp2","executionInfo":{"status":"ok","timestamp":1665148628193,"user_tz":-540,"elapsed":5,"user":{"displayName":"Suhyeon Lee","userId":"03248773764587824406"}}},"execution_count":3,"outputs":[]},{"cell_type":"code","source":["headers = {'Authorization': api}"],"metadata":{"id":"zqi6ltl8Cuik","executionInfo":{"status":"ok","timestamp":1665148628193,"user_tz":-540,"elapsed":5,"user":{"displayName":"Suhyeon Lee","userId":"03248773764587824406"}}},"execution_count":4,"outputs":[]},{"cell_type":"code","source":["total=[]\n","for i in tqdm(range(100000)):\n","    match = requests.get(f'https://api.nexon.co.kr/fifaonline4/v1.0/matches?matchtype=50&offset={i*100}&limit=100&orderby=desc',headers=headers)\n","    match=match.json()\n","    match=pd.DataFrame(match)\n","    total.append(match)\n","\n","#range 값만 변경 하면 전체 데이터를 추출할 수 있을 것이다.\n","result=pd.concat(total, ignore_index=True)"],"metadata":{"id":"WDbNgAZB6Juz","colab":{"base_uri":"https://localhost:8080/","height":49,"referenced_widgets":["8f544f61d00c48bfbf5b849bfd5dbf0a","623d052bec1c446c96d0709e8747c677","13ff4f9ed40b4c7cb192763feab71b4d","c6d935601d4942adb6fa41e11f59cbbd","ac2b0374a49143168c45eb2fa673cb7a","c76f8198c20741808dfda1f16534784d","66707d2d7b1c45538b8980ccde78fd44","bf4c70e2b52d4521af9090efcf51c826","7ecb5fdb774748c59b946da16de8966e","dc12f2d455c4472e8a9f6b2a4f336e67","521513dc738f498f9cd2c36159ff58f9"]},"outputId":"27d78ac7-46fc-4c35-c182-9c777849bcc8"},"execution_count":null,"outputs":[{"output_type":"display_data","data":{"text/plain":["  0%|          | 0/100000 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"8f544f61d00c48bfbf5b849bfd5dbf0a"}},"metadata":{}}]},{"cell_type":"code","source":["result"],"metadata":{"id":"vF5mAbusjbcO"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["match_url='https://api.nexon.co.kr/fifaonline4/v1.0/matches/{}'\n","match_urls=[]\n","for i in tqdm(result[0]): # total아니라 result[0]으로 하셔야해용\n","  match_urls.append(f'https://api.nexon.co.kr/fifaonline4/v1.0/matches/{i}'.format(i)) \n","\n","\n","match_urls=pd.DataFrame(match_urls)\n","match_urls"],"metadata":{"id":"M-RgCd2ptC2Z"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["r3 = []\n","for i in tqdm(match_urls[0]):\n","  r= requests.get(i,headers=headers) \n","  r2=r.json()\n","  r3.append(r2)"],"metadata":{"id":"46Crud5XxdoS"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["r3=pd.DataFrame(r3)\n","r3"],"metadata":{"id":"uwyLPXyqlcV4"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["match_urls\n"],"metadata":{"id":"QIYr_MHclwjY"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"BB5DjtZYmpf3"},"execution_count":null,"outputs":[]}]}